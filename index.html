<!DOCTYPE html>
<html>
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2016级新生公寓信息调查表</title>
    <!-- Loading Bootstrap -->
    <link rel="stylesheet" href="static/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="static/skins/flat/green.css">
    <script src="static/js/jquery.min.js"></script>
    <script src="static/bootstrap/js/bootstrap.min.js"></script>
    <script src="static/js/jquery.form-validator.js"></script>
    <script src="static/bootstrap/js/icheck.js"></script>
   
    <style type="text/css">
    /*#cover{
        width: 100%;
        height: 100%;
        position: fixed;
        background: white;
        z-index: 10;
    }*/
    /*.signup-float {
        position: fixed;
        margin: 1em;
        left: 0;
        top: 0;
        width: 2em;
        height: 2em;
        z-index: 5;
    }*/
    .container {
        padding: 10px;
    }
    .img-responsive {
        width: 100%;
    }
    #signup-timer {
        margin: 0 auto;
        float: none;
    }

    .redCountdownValue span {
        font-family: "Microsoft Yahei";
    }

    .signup-header {
        box-shadow: 0 1px 5px -1px rgba(0, 0, 0, 0.4);
        margin-bottom: -7px;
        background-color: #fff;
    }

    .signup-header .list-group-item {
        border-radius: 0px;
        border: 0;
        border-top: 1px solid #ddd;
    }

    .signup-form {
        padding: 1em;
        box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, .6);
        box-shadow: 0 1px 5px -1px rgba(0, 0, 0, 0.4);
        margin-bottom: 15px;
        background-color: #fff;
    }
    .radio label{
        padding-left: 0;
    }
    
</style>
</head>

<body style="background-color:#e8ebed">
    <!-- <div id="cover">
    loading...
    </div> -->
    <div class="container">
        <div class="signup-header">
            <ul class="list-group">
                <li class="list-group-item" style="padding:0">
                    <div class="signup-wrapper">
                        <img class="img-responsive center-block" src="static/images/back.png">
                    </div>
                </li>
               
                <li class="list-group-item">
                    <div id="signup-time" style="font-size:1em">
                    <strong>2016级公寓信息调查表填写时间：7月7日---9月1日</strong>
                    </div>
                </li>
                <li class="list-group-item">
                    <div id="signup-summary" style="font-size:1em">
                        <strong>填写方式：</strong>
                             <br> 1、线上填写。
                            <br>2、将纸质回执寄到“杭州市江干区下沙高教园区杭州电子科技大学学生公寓管理中心（邮编为310018）”，以寄到日邮戳为准。
                            <br>3、如有问题，欢迎拨打学生公寓管理中心电话0571－81705047咨询了解。
                    </div>
                </li>
            </ul>
        </div>
        <div class="signup-form">
            <form action="{$submit_url}" method="post">
                <div class="form-group">
                    <label for="realname" class="control-label">姓名</label>
                    <input type="text" class="form-control" name="realname" id="realname" placeholder="请输入姓名" data-validation="required" data-validation-error-msg="请填写姓名">
                </div>
                
                <div class="form-group">
                    <label for="bookid" class="control-label">录取通知书编号</label>
                    <input type="text" class="form-control" name="bookid" id="bookid" placeholder="请输入录取通知书号" data-validation="required" data-validation-error-msg="请填写录取通知书号">
                </div>
                <div class="form-group">
                    <label for="stuid" class="control-label">考生号</label>
                    <input type="text" class="form-control" name="stuid" id="stuid" placeholder="请输入考生号" data-validation="required" data-validation-error-msg="请填写考生号">
                </div>
                <div class="form-group">
                    <label for="academy" class="control-label">学院</label>
                    <select class="form-control" id="academy" name="academy" data-validation="select_required">
                        <option value="0" selected disabled>请选择学院</option>
                        <option value="1">机械工程学院</option>
                        <option value="2">电子信息学院</option>
                        <option value="3">通信工程学院</option>
                        <option value="4">自动化学院</option>
                        <option value="5">计算机学院</option>
                        <option value="6">生命信息与仪器工程学院</option>
                        <option value="7">材料与环境工程学院</option>
                        <option value="8">软件工程学院</option>
                        <option value="9">理学院</option>
                        <option value="10">经济学院</option>
                        <option value="11">管理学院</option>
                        <option value="12">会计学院</option>
                        <option value="13">外国语学院</option>
                        <option value="14">数字媒体与艺术设计学院</option>
                        <option value="15">人文与法学院</option>
                        <option value="16">马克思主义学院</option>
                        <option value="17">卓越学院</option>
                        <option value="18">国际教育学院</option>
                        <option value="19">浙江保密学院</option>
                        <option value="20">网络空间安全学院</option>
                        <option value="21">继续教育学院</option>
                        <option value="22">信息工程学院</option>
                        
                    </select>
                </div>
                <div class="form-group">
                    <label for="major" class="control-label">专业</label>
                    <input type="text" class="form-control" name="major" id="major" placeholder="请输入专业" data-validation="required" data-validation-error-msg="请填写专业">
                </div>
                <div class="form-group">
                    <label for="mobile_long" class="control-label">手机</label>
                    <input type="tel" class="form-control" name="mobile_long" id="mobile_long" placeholder="请输入手机号" data-validation="number_string" data-validation-length="11">
                </div>
                
                <div class="form-group">
                    <label for="bed" class="control-label">是否需要统一公寓包</label>
                    <div class="radio">
                        <label class="radio-inline">
                            <input type="radio" class="flat-radio" name="bed" value="1" checked>是
                        </label>
                        <label class="radio-inline">
                            <input type="radio" class="flat-radio" name="bed" value="2">否
                        </label>
                    </div>
                </div>
                <div class="form-group">
                    <label for="airc" class="control-label">是否需要空调</label>
                    <div class="radio">
                        <label class="radio-inline">
                            <input type="radio" class="flat-radio" name="airc" value="1" checked>是
                        </label>
                        <label class="radio-inline">
                            <input type="radio" class="flat-radio" name="airc" value="0">否
                        </label>
                    </div>
                </div>
                
                <div class="form-group" id="button">

                </div>
            </form>
        </div>
    </div>
    <script type="text/javascript">
    $(document).ready(function() {
         $('.flat-radio input').iCheck(); 
         $('input').iCheck({
                radioClass: 'iradio_flat-green'
            });

        if ('{$state}'=='already') {
            $('input').prop('disabled',true);
            $('select').prop('disabled',true);
            $("form").attr('id', 'already_form');
            $('#realname').val('{$res["realname"]}');
            $('#bookid').val('{$res["bookid"]}');
            $('#stuid').val('{$res["stuid"]}');
            $('#academy').val('{$res["academy"]}');
            $('#major').val('{$res["major"]}');
            $('#mobile_long').val('{$res["mobile_long"]}');
            $("input[name='bed'] [value='"+"{$res['bed']}"+"']").prop("checked", true);
            $("input[name='airc'] [value='"+"{$res['airc']}"+"']").prop("checked", true);
            $('<input type="submit" class="btn btn-info" id="modify" style="margin-right:10px;" value="修改">').appendTo('#button');
        } else{
            $('<input type="submit" class="btn btn-default" id="submit" style="margin-right:10px;" value="提交">\n<input type="reset" class="btn btn-danger" value="重置">').appendTo('#button');
            form_validate();
        };

        $("#already_form").submit(function(event) {
            event.preventDefault();
            $(this).unbind('submit');
            $(this).removeAttr('id');
            $('input').prop('disabled',false);
            $('select').prop('disabled',false);
            $("#button").empty();
            $('<input type="submit" class="btn btn-default" id="submit" style="margin-right:10px;" value="提交">\n<input type="reset" class="btn btn-danger" value="重置">').appendTo('#button');
            form_validate();
        });

        function form_validate () {
            var zh_cn = {
                lengthBadStart: '必须是 ',
                lengthBadEnd: ' 位',
            }
            $.validate({
                language : zh_cn,
            });
        }
        
    });
    </script>
</body>

</html>
